{% extends "admin/base_admin.html" %}

{% block css %}
<!-- css scripts -->
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='admin/custom css/layout.css') }}">
<!-- store in static/admin/custom css -->
{% endblock %}

	{% if title %}
		<title>{{ title }}</title>
	{% else %}
    	<title>Admin Dashboard</title>
  	{% endif %}

{% block content %} 
	<div class="left bg-white p-3 shadow-sm margin">

		<div class="row">
	    <div class="col-10">
	    	<h1>Users</h1>
	    </div>

	   	<div class="col-2">
	    <div class="right"> 
	    	<a href="#"><button> Add </button></a>
	    </div>
  		</div>    
  		</div>

  		<div class="row">
		<div class="col-12">
		<table class="table">
			<tr>
				<th scope="col">Username</th>
				<th scope="col">Surname</th>
				<th scope="col">First Name</th>
				<th scope="col">M.I.</th>
				<th scope="col">Email</th>
			    <th scope="col">Roles</th>
			    <th scope="col">Section</th>
			    <th scope="col">Subject</th>
			    <th scope="col">Date Register</th>
			    <th scope="col">Action</th>
			</tr>

	<!-- main stuff here -->
		{% for user in users.items %}
			<tr>
				<td>{{user.username}}</td>
				<td>{{user.last_name}}</td>
				<td>{{user.first_name}}</td>
				<td>{{user.middle_initial}}</td>
				<td>{{user.email}}</td>
				
				<td>
				{% for roles in user.roles %}
					{{roles}}
				{% endfor %}
				</td>

				<td>{{user.section.code}}</td>
				<td>{{user.subject.code}}</td>
				<td>{{user.date_register}}<td>
				<td><a href="#"><button>Edit</button></a></td>
			</tr>
		{% endfor %}
		</table>
	</div></div>

	<div class="right">

	{% for page_num in users.iter_pages() %}
		{% if page_num %}
			{% if users.page == page_num %}
				<a class="btn btn-info mb-4" href="{{ url_for('admin.users', page=page_num) }}">{{ page_num }}</a>
			{% else %}
				<a class="btn btn-outline-info mb-4" href="{{ url_for('admin.users', page=page_num) }}">{{ page_num }}</a>
			{% endif %}
		{% else %}
		  ...
		{% endif %}
		{% endfor %}
		</div>
	</div>

{% endblock %}


{% block js %}
<!-- js scripts-->

<!-- store in static/admin/custom js -->
{% endblock %}
